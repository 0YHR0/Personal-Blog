(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{471:function(i,t,e){"use strict";e.r(t);var a=e(2),c=Object(a.a)({},(function(){var i=this,t=i._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":i.$parent.slotKey}},[t("h1",{attrs:{id:"election"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#election"}},[i._v("#")]),i._v(" Election")]),i._v(" "),t("ul",[t("li",[t("p",[i._v("每个进程都能开启leader election，多个election可以同时被开启")])]),i._v(" "),t("li",[t("p",[i._v("每个进程维护两个boolean类型的变量：")]),i._v(" "),t("ul",[t("li",[t("p",[i._v("done：当leader election算法结束之后置为true")])]),i._v(" "),t("li",[t("p",[i._v("is_leader：当进程知道自己是leader之后置为true")])])])]),i._v(" "),t("li",[t("p",[i._v("算法要满足两个条件"),t("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/883c80b2-c8a9-477e-a309-31eb53f5cc47-14899999.jpg",alt:"img"}})])]),i._v(" "),t("li",[t("p",[i._v("ring的定义"),t("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/c817d6f1-f669-4630-974e-884cb1b0d107-14899999.jpg",alt:"img"}})])]),i._v(" "),t("li",[t("p",[i._v("leader election不能在anonymous ring中进行，因为每个node必须有个标识，不然不知道哪个是leader")]),i._v(" "),t("ul",[t("li",[t("p",[i._v("uniform ring: 知道ring的大小")])]),i._v(" "),t("li",[t("p",[i._v("non-uniform ring：不知道ring的大小")])]),i._v(" "),t("li",[t("p",[i._v("symmetric："),t("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/2477f63a-90a0-40fd-93c7-64acb84ae14f-14899999.jpg",alt:"img"}})])]),i._v(" "),t("li",[t("p",[i._v("asymmetric："),t("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/d4adc4b3-9ef6-4fba-8935-a02a8f98ce85-14899999.jpg",alt:"img"}})])]),i._v(" "),t("li",[t("p",[i._v("synchronous："),t("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/9a87193f-1108-44e5-bc69-c906fbceb928-14899999.jpg",alt:"img"}})])]),i._v(" "),t("li",[t("p",[i._v("asynchronous："),t("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/e9a9fc06-749e-44bf-930a-43a9367e02b5-14899999.jpg",alt:"img"}})])])])]),i._v(" "),t("li",[t("p",[i._v("node的identifier必须是unique的，并且可排序的"),t("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/0cb873ca-77a1-4640-bcbb-610b3b80f20f-14899999.jpg",alt:"img"}})])]),i._v(" "),t("li",[t("p",[i._v("LeLann-Chang-Roberts (LCR) algorithm：选id最大的那个node")]),i._v(" "),t("ul",[t("li",[t("p",[i._v("假设是一个单向顺时针的ring")])]),i._v(" "),t("li",[t("p",[i._v("任意一个node可以开始leader election：把自己的id发给下一个node")])]),i._v(" "),t("li",[t("p",[i._v("如果收到的id比自己的id大，那么就直接把收到的id发给下一个node")])]),i._v(" "),t("li",[t("p",[i._v("如果收到的id比自己的id小，那么把自己的id发给下一个node")])]),i._v(" "),t("li",[t("p",[i._v("最后，如果一个node收到了自己的id，说明自己是这个ring中id最大的，那么声明自己是这个ring的leader")])]),i._v(" "),t("li",[t("p",[i._v("评价：id降序排列的时候是worst case，别忘了最后广播自己是leader还要发送一轮消息"),t("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/d906ec95-07d6-453e-b1e0-11fc3785139a-14899999.jpg",alt:"img"}}),t("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/f6c27865-f4b1-4769-b360-62bcb33c9631-14899999.jpg",alt:"img"}})])]),i._v(" "),t("li",[t("p",[i._v("但是平均时间复杂度是nlogn")]),i._v(" "),t("ul",[t("li",[t("p",[i._v("每个id发送一个消息，总共有n！个消息，因为有n！种组合情况")])]),i._v(" "),t("li",[t("p",[i._v("每个id在他的后k个邻居中有1/k的概率是最大的，所以发送1/k个消息")])]),i._v(" "),t("li",[t("p",[i._v("所以总消息数是，n个节点*（各个节点发送消息之和+最后的leader通知消息）/ n！种情况")])])])])])]),i._v(" "),t("li",[t("p",[i._v("为了减少消息复杂度，使用HS算法：")]),i._v(" "),t("ul",[t("li",[t("p",[i._v("是bidirectional ring")])]),i._v(" "),t("li",[t("p",[i._v("每个node向自己的邻居发送自己的id，只有自己的id是最大的时候才扩展邻居*2（注意不是+2）")])]),i._v(" "),t("li",[t("p",[i._v("最后只有一个winner就是leader"),t("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/8d595600-1c7f-4d47-87ce-fdaf2d50b4ad-14899999.jpg",alt:"img"}}),t("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/5fe5d56b-9838-43f0-8a4e-4692f301c834-14899999.jpg",alt:"img"}})])]),i._v(" "),t("li",[t("p",[i._v("信息复杂度："),t("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/0236617e-5012-4c49-85ed-198d1b376d42-14899999.jpg",alt:"img"}}),t("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/9d7981b5-da0f-40a2-af26-ba9dc1c802f8-14899999.jpg",alt:"img"}}),t("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/856b1730-1d89-4b54-ab34-15659a40f480-14899999.jpg",alt:"img"}})])]),i._v(" "),t("li",[t("p",[i._v("在asynchronous rings， ring的大小不知道的情况下，message complexity不可能比nlogn更低")])])])])])])}),[],!1,null,null,null);t.default=c.exports}}]);