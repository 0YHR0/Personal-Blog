(window.webpackJsonp=window.webpackJsonp||[]).push([[241],{640:function(t,a,s){"use strict";s.r(a);var r=s(2),n=Object(r.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:""}},[a("a",{staticClass:"header-anchor",attrs:{href:"#"}},[t._v("#")])]),t._v(" "),a("h2",{attrs:{id:"nginx进程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx进程"}},[t._v("#")]),t._v(" Nginx进程")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20231021113256789.png",alt:"image-20231021113256789"}})]),t._v(" "),a("ul",[a("li",[t._v("master是主进程负责读取和验证配置文件，以及管理worker进程")]),t._v(" "),a("li",[t._v("worker进程就是nginx的工作进程，负责处理实际的请求"),a("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20231021113731165.png",alt:"image-20231021113731165"}})])]),t._v(" "),a("h4",{attrs:{id:"ubuntu安装nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu安装nginx"}},[t._v("#")]),t._v(" Ubuntu安装nginx")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" nginx\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" nginx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-t")]),t._v(" //查看配置文件位置\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("nginx.conf中"),a("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20231021114503075.png",alt:"image-20231021114503075"}})]),t._v(" "),a("ul",[a("li",[t._v("第一行表示根目录所在的文件夹")]),t._v(" "),a("li",[t._v("第二行表示匹配的文件")]),t._v(" "),a("li",[t._v("修改配置文件之后，要重新加载"),a("code",[t._v("nginx -s reload")])]),t._v(" "),a("li",[a("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20231021122404978.png",alt:"image-20231021122404978"}})])]),t._v(" "),a("h2",{attrs:{id:"正向代理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#正向代理"}},[t._v("#")]),t._v(" 正向代理")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20231021125407577.png",alt:"image-20231021125407577"}})]),t._v(" "),a("ul",[a("li",[t._v("代理的是客户端")])]),t._v(" "),a("h2",{attrs:{id:"反向代理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#反向代理"}},[t._v("#")]),t._v(" 反向代理")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20231021125431212.png",alt:"image-20231021125431212"}})]),t._v(" "),a("ul",[a("li",[t._v("代理的是服务端")]),t._v(" "),a("li",[t._v("负载均衡实例")])]),t._v(" "),a("p",[t._v("conf文件中，在http块中写："),a("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20231021125733655.png",alt:"image-20231021125733655"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20231021125829840.png",alt:"image-20231021125829840"}})]),t._v(" "),a("ul",[a("li",[t._v("也可以加权重"),a("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20231021125923430.png",alt:"image-20231021125923430"}})]),t._v(" "),a("li",[t._v("也可以用ip_hash，表示会根据客户端的ip来哈希，保证同一个客户端访问的一直是同一个服务器，解决了session的问题"),a("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20231021130040835.png",alt:"image-20231021130040835"}})]),t._v(" "),a("li",[t._v("自动使用https，但是自签证书，具体百度"),a("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20231021130622747.png",alt:"image-20231021130622747"}})])]),t._v(" "),a("h3",{attrs:{id:"虚拟主机"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#虚拟主机"}},[t._v("#")]),t._v(" 虚拟主机")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("在一台服务器上·部署多个站点")])]),t._v(" "),a("li",[a("p",[t._v("在配置文件中，每个server块是一个虚拟主机")])]),t._v(" "),a("li",[a("p",[t._v("复制一个server块到新的文件中（主配置文件最后一行会自动读取所有的配置文件）"),a("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20231021182147866.png",alt:"image-20231021182147866"}})])])])])}),[],!1,null,null,null);a.default=n.exports}}]);