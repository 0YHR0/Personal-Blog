(window.webpackJsonp=window.webpackJsonp||[]).push([[248],{643:function(a,t,m){"use strict";m.r(t);var e=m(2),i=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"threads"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#threads"}},[a._v("#")]),a._v(" Threads")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("创建进程开销很大，但是线程开销很小")])]),a._v(" "),t("li",[t("p",[a._v("Benefits"),t("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/9ded73ed-b63b-4d8a-ac90-2ed39354734a-14899999.jpg",alt:"img"}})])]),a._v(" "),t("li",[t("p",[a._v("Parallelism：并行，多个任务在物理时间上同时执行，多核")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("task-parallelism：将一个任务分割成不同的线程，这些线程分布在多核上运行")])]),a._v(" "),t("li",[t("p",[a._v("data-parallelism：将数据进行分割，将分割好的数据放在一个或者多个核上进行执行；每一个核对这些数据都进行类似的操作")])])])]),a._v(" "),t("li",[t("p",[a._v("Concurrency： 并发，多个任务看上去同时运行，可以单核实现")])]),a._v(" "),t("li",[t("p",[a._v("单线程与多线程"),t("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/a6897608-1df4-406d-a114-c7a9ba30b272-14899999.jpg",alt:"img"}})])]),a._v(" "),t("li",[t("p",[a._v("Amdahl’s Law：当给一个应用（由serial部分和parallel部分组成）增加核心时，性能提升速率：S是serial部分的比例，N是增加后的核心数量"),t("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/59e29262-16c9-4645-8ed8-3d88e9eed9a5-14899999.jpg",alt:"img"}}),t("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/607831f0-d6ff-4fd6-b458-0dff0726af4c-14899999.jpg",alt:"img"}})])]),a._v(" "),t("li",[t("p",[a._v("user threads：切换由用户态程序自己控制内核切换,不需要内核干涉，少了进出内核态的消耗，但不能很好的利用多核Cpu")])]),a._v(" "),t("li",[t("p",[a._v("kernel threads：切换由内核控制，当线程进行切换的时候，由用户态转化为内核态。切换完毕要从内核态返回用户态；可以很好的利用smp，即利用多核cpu"),t("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/c05229b3-70e7-421a-b352-d3ddf20950d2-14899999.jpg",alt:"img"}}),t("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/a89c6c65-c386-4d2e-9ff2-69a8c2465c6a-14899999.jpg",alt:"img"}}),t("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/b90aa6ec-667c-4753-978b-6230645435f6-14899999.jpg",alt:"img"}}),t("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/899d0656-b8d9-44d9-a72f-f6f487d04d86-14899999.jpg",alt:"img"}})])]),a._v(" "),t("li",[t("p",[a._v("user threads和kernel threads的关系：")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("Many-to-One"),t("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/c3439ae0-c265-4f98-b25b-671b5a1b8713-14899999.jpg",alt:"img"}}),t("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/fda95814-d887-44a1-b407-2a87e47a877e-14899999.jpg",alt:"img"}})])]),a._v(" "),t("li",[t("p",[a._v("one to one"),t("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/e4f37824-590f-47e5-a63e-f2d897ef5fb2-14899999.jpg",alt:"img"}}),t("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/bf1ae4b9-03be-4482-a4eb-0a7ad4e034bb-14899999.jpg",alt:"img"}})])]),a._v(" "),t("li",[t("p",[a._v("many to many"),t("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/ce77ac3a-1ea6-4729-90ce-9ce0adcef88b-14899999.jpg",alt:"img"}})])]),a._v(" "),t("li",[t("p",[a._v("two level model"),t("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/484d9f2c-31ec-49ef-b4c8-c615cf3b5aa9-14899999.jpg",alt:"img"}})])])])]),a._v(" "),t("li",[t("p",[a._v("线程池"),t("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/7702e167-8356-4342-b8bf-e27dd3eead6c-14899999.jpg",alt:"img"}})])]),a._v(" "),t("li",[t("p",[a._v("fork和exec：")]),a._v(" "),t("ul",[t("li",[a._v("在一个进程中的一个线程调用"),t("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/0d553791-db1d-45a9-a395-2e5a46347fbd-14899999.jpg",alt:"img"}})])])]),a._v(" "),t("li",[t("p",[a._v("信号："),t("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/2eabbcdd-fa60-4fbd-b04a-0bec5c796938-14899999.jpg",alt:"img"}})])]),a._v(" "),t("li",[t("p",[a._v("两种线程结束方式："),t("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/7ee6a93a-353c-40d4-86ae-f46000cebfb1-14899999.jpg",alt:"img"}})])]),a._v(" "),t("li",[t("p",[a._v("ThreadLocal "),t("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/a05b90e8-bf6f-4f34-9743-6970c68d54c9-14899999.jpg",alt:"img"}})])]),a._v(" "),t("li",[t("p",[a._v("lightweightprocess"),t("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/4826f0ad-3aef-4323-bb2d-afaa5bf48779-14899999.jpg",alt:"img"}}),t("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/302f92f6-c354-4c60-a7b6-f26d91dcaffc-14899999.jpg",alt:"img"}}),t("img",{attrs:{src:"https://api2.mubu.com/v3/document_image/0dc9dddc-e52d-43b7-93c3-b74a1e74d729-14899999.jpg",alt:"img"}})])]),a._v(" "),t("li",[t("p",[a._v("线程有自己的pid，tgid与创建他的线程一样，每个进程的所有线程都有着相同的tgid")])])])])}),[],!1,null,null,null);t.default=i.exports}}]);